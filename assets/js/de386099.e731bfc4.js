(self.webpackChunkkai_dev=self.webpackChunkkai_dev||[]).push([[574],{3243:function(n,t,e){"use strict";e.r(t),e.d(t,{frontMatter:function(){return l},metadata:function(){return o},toc:function(){return c},default:function(){return s}});var u=e(2122),a=e(9756),r=(e(7294),e(3905)),i=["components"],l={sidebar_position:3},o={unversionedId:"JavaScript/Closure",id:"JavaScript/Closure",isDocsHomePage:!1,title:"Closure",description:"- JS \u7684 Function \u6709\u5e7e\u500b\u7279\u6027",source:"@site/docs/JavaScript/Closure.md",sourceDirName:"JavaScript",slug:"/JavaScript/Closure",permalink:"/docs/JavaScript/Closure",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/JavaScript/Closure.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"This",permalink:"/docs/JavaScript/This"},next:{title:"\u7bad\u865f\u51fd\u5f0f Arrow Functions",permalink:"/docs/JavaScript/ArrowFunctions"}},c=[{value:"\u9589\u5305\u7684\u7c21\u55ae\u5b9a\u7fa9",id:"\u9589\u5305\u7684\u7c21\u55ae\u5b9a\u7fa9",children:[]},{value:"\u9589\u5305\u7684\u61c9\u7528\u7bc4\u570d",id:"\u9589\u5305\u7684\u61c9\u7528\u7bc4\u570d",children:[]}],p={toc:c};function s(n){var t=n.components,e=(0,a.Z)(n,i);return(0,r.kt)("wrapper",(0,u.Z)({},p,e,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"JS \u7684 Function \u6709\u5e7e\u500b\u7279\u6027",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Function \u5c6c\u65bc first-class-function (\u982d\u7b49\u51fd\u5f0f)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u88ab\u7576\u53c3\u6578\u50b3\u5165"),(0,r.kt)("li",{parentName:"ul"},"\u4e5f\u53ef\u4ee5\u88ab\u7576\u53c3\u6578\u50b3\u51fa"))),(0,r.kt)("li",{parentName:"ul"},"typeof \u4e00\u500b Function \u56de\u50b3\u503c\u662f Function")))),(0,r.kt)("h3",{id:"\u9589\u5305\u7684\u7c21\u55ae\u5b9a\u7fa9"},"\u9589\u5305\u7684\u7c21\u55ae\u5b9a\u7fa9"),(0,r.kt)("p",null,"\u8a18\u4f4f Function \u88ab\u5efa\u7acb\u6642\u7576\u4e0b\u74b0\u5883"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"function aFunc(x) {\n  return function bFunc() {\n    console.log(x++);\n  };\n}\n\nconst newFunc = aFunc(1);\nnewFunc(); // 1\nnewFunc(); // 2\n")),(0,r.kt)("p",null,"\u5728\u7b2c\u4e00\u6b21\u5efa\u7acb\u7684\u6642\u5019\uff0c\u5c07 x \u5b9a\u7fa9\u7232 1 \uff0c\u800c x \u7684\u503c\u5c31\u88ab\u4fdd\u7559\u5728 aFunc \u88e1\u9762\uff0c\u6240\u4ee5\u7576 x++ \u7684\u6642\u5019\uff0c\u90fd\u662f\u540c\u4e00\u500b x \u88ab\u505a\u904b\u7b97\u7684 ( \u9019\u908a\u5148\u4e0d\u8a0e\u8ad6 ++ \u653e\u524d\u9762\u9084\u662f\u653e\u5f8c\u9762\u7684 side effect )"),(0,r.kt)("p",null,"\u9019\u908a\u6709\u5e7e\u500b\u8981\u6ce8\u610f\u7684\u5730\u65b9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"aFunc \u547c\u53eb\u5f8c\uff0c newFunc \u624d\u6703\u5efa\u7acb \u4e26\u7522\u751f\u9589\u5305"),(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u662f\u53ea\u6709\u56de\u50b3 Function \u624d\u6703\u7522\u751f\u9589\u5305\uff0c\u6240\u6709 Function \u5728\u5efa\u7acb\u6642\u90fd\u6703\u7522\u751f\u9589\u5305")),(0,r.kt)("p",null,"\u53ef\u4ee5\u900f\u904e\u700f\u89bd\u5668\u7684\u958b\u767c\u5de5\u5177\uff0c\u53bb\u770b\u5230\u6709\u660e\u78ba\u7522\u751f\u4e00\u500b\u9589\u5305\uff0c\u53ef\u4ee5\u900f\u904e\u9019\u500b\u65b9\u5f0f\uff0c\u53bb\u77ad\u89e3\u9589\u5305\u7522\u751f\u7576\u4e0b\u7684\u74b0\u5883\u8b8a\u6578\u503c"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/UeQPyca.png",alt:null})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'const varGlobal = "x";\n\nfunction outer(paramOuter) {\n  const varOuter = "y";\n\n  function inner(paramInner) {\n    const varInner = "z";\n\n    //print\n    console.log(varGlobal);\n    console.log(varOuter);\n    console.log(varInner);\n    console.log(paramOuter);\n    console.log(paramInner);\n  }\n\n  return inner;\n}\n\nconst func = outer("a");\nfunc("b");\n')),(0,r.kt)("p",null,"\u9019\u4e00\u500b\u7bc4\u4f8b\u53ef\u4ee5\u8b93\u6211\u5011\u77ad\u89e3\u5230\uff0c\u5728 func \u9019\u4e00\u500b\u9589\u5305\u5efa\u7acb\u7684\u6642\u5019\uff0c\u5df2\u7d93\u5c07\u5168\u57df\u7684\u8b8a\u6578\u3001\u5340\u57df\u7684\u8b8a\u6578\u5132\u5b58\u5728\u81ea\u5df1\u7684\u4f5c\u7528\u57df\u88e1\u9762\uff0c\u800c\u7232\u4ec0\u9ebc\u53ef\u4ee5\u9019\u6a23\u505a\u5462\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Function \u5728 JavaScript \u4e2d\u7684\u8a2d\u8a08\uff1aFunction \u53ef\u4ee5\u50cf\u4e00\u822c\u7684\u6578\u503c\u4f7f\u7528\uff0c\u53ef\u4ee5\u5728\u8b8a\u6578\u3001\u7269\u4ef6\u6216\u9663\u5217\u4e2d\u5132\u5b58\uff0c\u4e5f\u53ef\u4ee5\u50b3\u5165\u5230\u53e6\u5916\u7684 Function \u88e1\u7576\u53c3\u6578\uff0c\u4e5f\u53ef\u4ee5\u7576\u56de\u50b3\u503c\u56de\u50b3\u3002"),(0,r.kt)("li",{parentName:"ul"},"Function \u4f5c\u7528\u57df\u9023\u9396\u898f\u5247\uff1a\u5167\u90e8 Function \u53ef\u4ee5\u770b\u5230(\u6216\u5b58\u53d6\u5f97\u5230)\u5916\u90e8 Function \uff0c\u800c\u5f62\u6210\u4e00\u500b Scope Chain(\u4f5c\u7528\u57df\u9023\u9396)\uff0c\u5167\u90e8 Function \u53ef\u4ee5\u6709\u4e09\u500b\u4f5c\u7528\u57df\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u81ea\u5df2\u672c\u8eab\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u5916\u90e8 Function \u7684"),(0,r.kt)("li",{parentName:"ul"},"\u5168\u57df\u7684")))),(0,r.kt)("h3",{id:"\u9589\u5305\u7684\u61c9\u7528\u7bc4\u570d"},"\u9589\u5305\u7684\u61c9\u7528\u7bc4\u570d"),(0,r.kt)("h4",{id:"\u67ef\u91cc\u5316currying\u8207\u90e8\u4efd\u61c9\u7528partial-application"},"\u67ef\u91cc\u5316(Currying)\u8207\u90e8\u4efd\u61c9\u7528(Partial application)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u67ef\u91cc\u5316\uff1a \u4e00\u500b\u5177\u6709\u591a\u500b\u50b3\u5165\u53c3\u6578\u7684 Function \uff0c\u8f49\u8b8a\u70ba\u4e00\u500b\u4e00\u6b21\u53ea\u50b3\u5165\u4e00\u500b\u53c3\u6578\uff0c\u53ea\u6703\u56de\u50b3\u4e00\u500b\u53ea\u6709\u4e00\u500b\u50b3\u5165\u53c3\u6578\u7684 Function"),(0,r.kt)("li",{parentName:"ul"},"\u90e8\u5206\u61c9\u7528\uff1a \u4ee3\u8868\u4e00\u500b Function \u5176\u4e2d\u6709\u90e8\u4efd\u7684\u50b3\u5165\u503c(\u4e00\u500b\u6216\u591a\u500b)\u88ab\u50b3\u5165\uff0c\u7136\u5f8c\u56de\u50b3\u4e00\u500b\u5df2\u7d93\u6709\u90e8\u4efd\u50b3\u5165\u503c\u7684 Function")),(0,r.kt)("p",null,"\u9019\u500b\u662f \u90e8\u4efd\u6c42\u503c \u6216 \u60f0\u6027(\u5ef6\u6642)\u6c42\u503c \u7684\u4e00\u7a2e\u6280\u5de7"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"function add(x, y, z) {\n  return x + y + z;\n}\n\n// \u90e8\u5206\u61c9\u7528\nfunction add(x, y, z) {\n  return function (z) {\n    return x + y + z;\n  };\n}\n\nconst addXY = add(1, 2);\naddXY(3);\n// \u67ef\u91cc\u5316\nfunction add(x, y, z) {\n  return function (y) {\n    return function (z) {\n      return x + y + z;\n    };\n  };\n}\nadd(1)(2)(3);\n")),(0,r.kt)("h4",{id:"\u6a21\u7d44\u5316\uff1a"},"\u6a21\u7d44\u5316\uff1a"),(0,r.kt)("p",null,"\u53ef\u4ee5\u53ea\u6709\u8b93 module \u4f7f\u7528\u79c1\u6709\u7684\u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"var Module = (function() {\n    // \u4ee5\u4e0b\u7684\u65b9\u6cd5\u662f\u79c1\u6709\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u88ab\u516c\u958b\u7684Function \u5b58\u53d6\n    function privateFunc() { ... }\n\n      // \u56de\u50b3\u8981\u6307\u5b9a\u7d66\u6a21\u7d44\u7684\u7269\u4ef6\n    return {\n        publicFunc: function() {\n            privateFunc() // publicFunc \u53ef\u4ee5\u76f4\u63a5\u5b58\u53d6 privateFunc\n        }\n    }\n}())\n")))}s.isMDXComponent=!0}}]);